{%- assign date_color = item.data.date | color -%}
{%- assign accent_color = item.data.style.color-accent | default: date_color -%}
<article class="card |{% for root in item.data.vocab %} h-{{ root }}{% endfor %}"{% if item.data.duotone_card_image %} style="--color-accent-light: {{ accent_color | contrast_with: 'black' }}; --color-accent-dark: {{ accent_color | contrast_with: 'white' }}"{% endif %}>
{%- if item.data.image -%}
  <div class="card__image">
    {%- assign ratio = image_ratio | default: 1.5 -%}
    {%- render 'image' with item.data.image
      ratio: ratio
      sizes: items_grid_size
      preset: 'supporting'
    -%}
  </div>
{%- endif -%}

  <header class="card__header">
    <h3 class="card__title | p-name">
      <a class="u-url" rel="bookmark" href="{{ item.url }}">{{ item.data.title | markdown: 'inline' }}</a>
    </h3>
  </header>

{%- if item.data.summary -%}
  <div class="card__main s-linear | p-summary">
    {{ item.data.summary | markdown }}
  </div>
{%- endif -%}

{%- if item.data.layout != 'project' -%}
  <footer class="card__footer">
  {%- if item.data.layout == 'travel' -%}
    <time class="dt-start" datetime="{{ item.data.start | date: dates.iso }}">{{ item.data.start | date: '%B %Y' }}</time>
    <time class="dt-end" datetime="{{ item.data.end | date: dates.iso }}"></time>
  {%- else -%}
    <time class="dt-published" datetime="{{ item.data.date | date: dates.iso }}">{{ item.data.date | date: dates.date_long }}</time>
  {%- endif -%}
  </footer>
{%- endif -%}
</article>
